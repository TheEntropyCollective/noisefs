?   	github.com/TheEntropyCollective/noisefs/cmd/demo	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/evolution-demo	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/legal-review	[no test files]
=== RUN   TestCLIAltruisticCache
    cli_altruistic_test.go:22: Skipping CLI test: IPFS not available (set NOISEFS_TEST_IPFS_ENDPOINT to enable)
--- SKIP: TestCLIAltruisticCache (0.00s)
=== RUN   TestCacheVisualization
--- PASS: TestCacheVisualization (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/cmd/noisefs	0.295s
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-config	[no test files]
=== RUN   TestParseMultiDirs
=== RUN   TestParseMultiDirs/Single_directory
=== RUN   TestParseMultiDirs/Multiple_directories
=== RUN   TestParseMultiDirs/Invalid_format_-_missing_parts
=== RUN   TestParseMultiDirs/Invalid_format_-_too_many_parts
=== RUN   TestParseMultiDirs/Empty_input
--- PASS: TestParseMultiDirs (0.00s)
    --- PASS: TestParseMultiDirs/Single_directory (0.00s)
    --- PASS: TestParseMultiDirs/Multiple_directories (0.00s)
    --- PASS: TestParseMultiDirs/Invalid_format_-_missing_parts (0.00s)
    --- PASS: TestParseMultiDirs/Invalid_format_-_too_many_parts (0.00s)
    --- PASS: TestParseMultiDirs/Empty_input (0.00s)
=== RUN   TestDirectoryMountValidation
=== RUN   TestDirectoryMountValidation/Valid_directory_descriptor_only
=== RUN   TestDirectoryMountValidation/Valid_with_encryption_key
=== RUN   TestDirectoryMountValidation/Valid_with_subdir
=== RUN   TestDirectoryMountValidation/Empty_descriptor
--- PASS: TestDirectoryMountValidation (0.00s)
    --- PASS: TestDirectoryMountValidation/Valid_directory_descriptor_only (0.00s)
    --- PASS: TestDirectoryMountValidation/Valid_with_encryption_key (0.00s)
    --- PASS: TestDirectoryMountValidation/Valid_with_subdir (0.00s)
    --- PASS: TestDirectoryMountValidation/Empty_descriptor (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/cmd/noisefs-mount	0.425s
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-security	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-seed	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/benchmark/benchmark	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/benchmark/docker-benchmark	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/benchmark/enterprise-benchmark	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/benchmark/impact-demo	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/bootstrap/noisefs-bootstrap	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/directory-indexer	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-tools/inspect/inspect-index	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/noisefs-webui	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/simulation	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/webui	[no test files]
?   	github.com/TheEntropyCollective/noisefs/cmd/webui/tls	[no test files]
?   	github.com/TheEntropyCollective/noisefs/examples	[no test files]
?   	github.com/TheEntropyCollective/noisefs/examples/defense-package	[no test files]
=== RUN   TestValidator
=== RUN   TestValidator/valid_announcement
=== RUN   TestValidator/missing_version
=== RUN   TestValidator/invalid_descriptor
=== RUN   TestValidator/invalid_topic_hash
=== RUN   TestValidator/TTL_too_long
--- PASS: TestValidator (0.00s)
    --- PASS: TestValidator/valid_announcement (0.00s)
    --- PASS: TestValidator/missing_version (0.00s)
    --- PASS: TestValidator/invalid_descriptor (0.00s)
    --- PASS: TestValidator/invalid_topic_hash (0.00s)
    --- PASS: TestValidator/TTL_too_long (0.00s)
=== RUN   TestRateLimiter
--- PASS: TestRateLimiter (0.00s)
=== RUN   TestSpamDetector
--- PASS: TestSpamDetector (0.00s)
=== RUN   TestReputationSystem
    security_test.go:212: Score after positive: 51.000000
    security_test.go:219: Score after negative: 46.000000
    security_test.go:236: After positive events - Score: 76.000000, Total events: 32
    security_test.go:245: Trust level: good
--- PASS: TestReputationSystem (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/announce	0.436s
?   	github.com/TheEntropyCollective/noisefs/pkg/announce/config	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/announce/dht	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/announce/pubsub	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/announce/security	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/announce/store	[no test files]
=== RUN   TestMatcherModes
=== RUN   TestMatcherModes/MatchAny_-_should_match_with_one_common_tag
=== RUN   TestMatcherModes/MatchAny_-_no_common_tags
=== RUN   TestMatcherModes/MatchAll_-_all_query_tags_present
=== RUN   TestMatcherModes/MatchAll_-_missing_one_query_tag
=== RUN   TestMatcherModes/MatchExact_-_exact_same_tags
=== RUN   TestMatcherModes/MatchExact_-_different_number_of_tags
--- PASS: TestMatcherModes (0.00s)
    --- PASS: TestMatcherModes/MatchAny_-_should_match_with_one_common_tag (0.00s)
    --- PASS: TestMatcherModes/MatchAny_-_no_common_tags (0.00s)
    --- PASS: TestMatcherModes/MatchAll_-_all_query_tags_present (0.00s)
    --- PASS: TestMatcherModes/MatchAll_-_missing_one_query_tag (0.00s)
    --- PASS: TestMatcherModes/MatchExact_-_exact_same_tags (0.00s)
    --- PASS: TestMatcherModes/MatchExact_-_different_number_of_tags (0.00s)
=== RUN   TestMatchWithScore
=== RUN   TestMatchWithScore/All_tags_match
=== RUN   TestMatchWithScore/Half_tags_match
=== RUN   TestMatchWithScore/No_tags_match
=== RUN   TestMatchWithScore/Empty_query_tags
--- PASS: TestMatchWithScore (0.00s)
    --- PASS: TestMatchWithScore/All_tags_match (0.00s)
    --- PASS: TestMatchWithScore/Half_tags_match (0.00s)
    --- PASS: TestMatchWithScore/No_tags_match (0.00s)
    --- PASS: TestMatchWithScore/Empty_query_tags (0.00s)
=== RUN   TestWildcardMatching
--- PASS: TestWildcardMatching (0.00s)
=== RUN   TestNormalizedMatching
--- PASS: TestNormalizedMatching (0.00s)
=== RUN   TestRankByTags
--- PASS: TestRankByTags (0.00s)
=== RUN   TestExpandQuery
=== RUN   TestExpandQuery/Expand_4k_resolution
=== RUN   TestExpandQuery/Expand_h265_codec
=== RUN   TestExpandQuery/No_expansion_for_unknown_tags
--- PASS: TestExpandQuery (0.00s)
    --- PASS: TestExpandQuery/Expand_4k_resolution (0.00s)
    --- PASS: TestExpandQuery/Expand_h265_codec (0.00s)
    --- PASS: TestExpandQuery/No_expansion_for_unknown_tags (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/announce/tags	0.463s
=== RUN   TestReviewGeneratorCreation
--- PASS: TestReviewGeneratorCreation (0.00s)
=== RUN   TestGenerateReviewPackage
--- PASS: TestGenerateReviewPackage (0.00s)
=== RUN   TestExportFormats
=== RUN   TestExportFormats/JSON_Export
=== RUN   TestExportFormats/HTML_Export
=== RUN   TestExportFormats/Markdown_Export
--- PASS: TestExportFormats (0.00s)
    --- PASS: TestExportFormats/JSON_Export (0.00s)
    --- PASS: TestExportFormats/HTML_Export (0.00s)
    --- PASS: TestExportFormats/Markdown_Export (0.00s)
=== RUN   TestValidatePackage
=== RUN   TestValidatePackage/Missing_Executive_Summary
=== RUN   TestValidatePackage/Missing_System_Architecture
=== RUN   TestValidatePackage/Missing_Defense_Strategy
=== RUN   TestValidatePackage/No_Test_Cases
--- PASS: TestValidatePackage (0.00s)
    --- PASS: TestValidatePackage/Missing_Executive_Summary (0.00s)
    --- PASS: TestValidatePackage/Missing_System_Architecture (0.00s)
    --- PASS: TestValidatePackage/Missing_Defense_Strategy (0.00s)
    --- PASS: TestValidatePackage/No_Test_Cases (0.00s)
=== RUN   TestGenerateFilename
--- PASS: TestGenerateFilename (0.00s)
=== RUN   TestExpertQuestions
--- PASS: TestExpertQuestions (0.00s)
=== RUN   TestRiskAssessment
    review_generator_test.go:423: Risk regulatory_action has incorrect score: expected 0.180000, got 0.180000
--- FAIL: TestRiskAssessment (0.00s)
=== RUN   TestComplianceReport
--- PASS: TestComplianceReport (0.00s)
FAIL
FAIL	github.com/TheEntropyCollective/noisefs/pkg/compliance	0.333s
=== RUN   TestNewBlock
=== RUN   TestNewBlock/valid_block
=== RUN   TestNewBlock/empty_data
=== RUN   TestNewBlock/nil_data
--- PASS: TestNewBlock (0.00s)
    --- PASS: TestNewBlock/valid_block (0.00s)
    --- PASS: TestNewBlock/empty_data (0.00s)
    --- PASS: TestNewBlock/nil_data (0.00s)
=== RUN   TestNewRandomBlock
=== RUN   TestNewRandomBlock/valid_size
=== RUN   TestNewRandomBlock/zero_size
=== RUN   TestNewRandomBlock/negative_size
--- PASS: TestNewRandomBlock (0.00s)
    --- PASS: TestNewRandomBlock/valid_size (0.00s)
    --- PASS: TestNewRandomBlock/zero_size (0.00s)
    --- PASS: TestNewRandomBlock/negative_size (0.00s)
=== RUN   TestBlockVerifyIntegrity
--- PASS: TestBlockVerifyIntegrity (0.00s)
=== RUN   TestBlockSize
--- PASS: TestBlockSize (0.00s)
=== RUN   TestBlockXOR
=== RUN   TestBlockXOR/same_size_blocks
=== RUN   TestBlockXOR/different_size_data_and_rand1
=== RUN   TestBlockXOR/different_size_data_and_rand2
=== RUN   TestBlockXOR/XOR3_with_zeros_gives_original
--- PASS: TestBlockXOR (0.00s)
    --- PASS: TestBlockXOR/same_size_blocks (0.00s)
    --- PASS: TestBlockXOR/different_size_data_and_rand1 (0.00s)
    --- PASS: TestBlockXOR/different_size_data_and_rand2 (0.00s)
    --- PASS: TestBlockXOR/XOR3_with_zeros_gives_original (0.00s)
=== RUN   TestXORReversibility
--- PASS: TestXORReversibility (0.00s)
=== RUN   TestNewDirectoryProcessor
=== RUN   TestNewDirectoryProcessor/nil_config
=== RUN   TestNewDirectoryProcessor/missing_encryption_key
=== RUN   TestNewDirectoryProcessor/valid_config
=== RUN   TestNewDirectoryProcessor/default_values
--- PASS: TestNewDirectoryProcessor (0.05s)
    --- PASS: TestNewDirectoryProcessor/nil_config (0.00s)
    --- PASS: TestNewDirectoryProcessor/missing_encryption_key (0.00s)
    --- PASS: TestNewDirectoryProcessor/valid_config (0.00s)
    --- PASS: TestNewDirectoryProcessor/default_values (0.00s)
=== RUN   TestDirectoryProcessor_ProcessDirectory
    directory_processor_test.go:270: Expected directory results
--- FAIL: TestDirectoryProcessor_ProcessDirectory (0.02s)
=== RUN   TestDirectoryProcessor_ProgressCallback
--- PASS: TestDirectoryProcessor_ProgressCallback (0.02s)
=== RUN   TestDirectoryProcessor_ErrorHandling
--- PASS: TestDirectoryProcessor_ErrorHandling (0.03s)
=== RUN   TestDirectoryProcessor_Cancellation
--- PASS: TestDirectoryProcessor_Cancellation (0.02s)
=== RUN   TestDirectoryProcessor_GetProgress
--- PASS: TestDirectoryProcessor_GetProgress (0.02s)
=== RUN   TestStreamingDirectoryProcessor
--- PASS: TestStreamingDirectoryProcessor (0.02s)
=== RUN   TestFileBlockProcessor
--- PASS: TestFileBlockProcessor (0.02s)
=== RUN   TestStreamingSplitter
--- PASS: TestStreamingSplitter (0.00s)
=== RUN   TestStreamingAssembler
--- PASS: TestStreamingAssembler (0.00s)
=== RUN   TestStreamingXOR
--- PASS: TestStreamingXOR (0.00s)
FAIL
FAIL	github.com/TheEntropyCollective/noisefs/pkg/core/blocks	1.030s
=== RUN   TestNewClient_Basic
--- PASS: TestNewClient_Basic (0.00s)
=== RUN   TestClient_Placeholder
    client_test.go:22: Client tests need to be rewritten for storage manager architecture
--- SKIP: TestClient_Placeholder (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/core/client	0.732s
=== RUN   TestDeriveDirectoryKey
=== RUN   TestDeriveDirectoryKey/BasicDerivation
=== RUN   TestDeriveDirectoryKey/DifferentPaths
=== RUN   TestDeriveDirectoryKey/Deterministic
=== RUN   TestDeriveDirectoryKey/InvalidInput
--- PASS: TestDeriveDirectoryKey (0.03s)
    --- PASS: TestDeriveDirectoryKey/BasicDerivation (0.00s)
    --- PASS: TestDeriveDirectoryKey/DifferentPaths (0.00s)
    --- PASS: TestDeriveDirectoryKey/Deterministic (0.00s)
    --- PASS: TestDeriveDirectoryKey/InvalidInput (0.00s)
=== RUN   TestFileNameEncryption
=== RUN   TestFileNameEncryption/EncryptDecrypt
=== RUN   TestFileNameEncryption/DifferentKeys
=== RUN   TestFileNameEncryption/UniqueEncryptions
=== RUN   TestFileNameEncryption/InvalidInput
=== RUN   TestFileNameEncryption/SpecialCharacters
--- PASS: TestFileNameEncryption (0.03s)
    --- PASS: TestFileNameEncryption/EncryptDecrypt (0.00s)
    --- PASS: TestFileNameEncryption/DifferentKeys (0.00s)
    --- PASS: TestFileNameEncryption/UniqueEncryptions (0.00s)
    --- PASS: TestFileNameEncryption/InvalidInput (0.00s)
    --- PASS: TestFileNameEncryption/SpecialCharacters (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/core/crypto	0.620s
=== RUN   TestDirectoryDescriptor
=== RUN   TestDirectoryDescriptor/NewDirectoryDescriptor
=== RUN   TestDirectoryDescriptor/DirectoryDescriptorValidation
=== RUN   TestDirectoryDescriptor/TypeHelpers
--- PASS: TestDirectoryDescriptor (0.00s)
    --- PASS: TestDirectoryDescriptor/NewDirectoryDescriptor (0.00s)
    --- PASS: TestDirectoryDescriptor/DirectoryDescriptorValidation (0.00s)
    --- PASS: TestDirectoryDescriptor/TypeHelpers (0.00s)
=== RUN   TestBackwardCompatibility
=== RUN   TestBackwardCompatibility/V3FileDescriptor
=== RUN   TestBackwardCompatibility/JSONRoundTrip
--- PASS: TestBackwardCompatibility (0.00s)
    --- PASS: TestBackwardCompatibility/V3FileDescriptor (0.00s)
    --- PASS: TestBackwardCompatibility/JSONRoundTrip (0.00s)
=== RUN   TestNewDescriptor
--- PASS: TestNewDescriptor (0.00s)
=== RUN   TestDescriptorValidate
=== RUN   TestDescriptorValidate/valid_descriptor
=== RUN   TestDescriptorValidate/empty_version
=== RUN   TestDescriptorValidate/empty_filename
=== RUN   TestDescriptorValidate/zero_file_size
=== RUN   TestDescriptorValidate/negative_file_size
=== RUN   TestDescriptorValidate/zero_block_size
=== RUN   TestDescriptorValidate/no_blocks
=== RUN   TestDescriptorValidate/empty_data_CID_in_block
=== RUN   TestDescriptorValidate/empty_randomizer_CID_in_block
=== RUN   TestDescriptorValidate/same_data_and_randomizer_CID
=== RUN   TestDescriptorValidate/empty_second_randomizer_CID
--- PASS: TestDescriptorValidate (0.00s)
    --- PASS: TestDescriptorValidate/valid_descriptor (0.00s)
    --- PASS: TestDescriptorValidate/empty_version (0.00s)
    --- PASS: TestDescriptorValidate/empty_filename (0.00s)
    --- PASS: TestDescriptorValidate/zero_file_size (0.00s)
    --- PASS: TestDescriptorValidate/negative_file_size (0.00s)
    --- PASS: TestDescriptorValidate/zero_block_size (0.00s)
    --- PASS: TestDescriptorValidate/no_blocks (0.00s)
    --- PASS: TestDescriptorValidate/empty_data_CID_in_block (0.00s)
    --- PASS: TestDescriptorValidate/empty_randomizer_CID_in_block (0.00s)
    --- PASS: TestDescriptorValidate/same_data_and_randomizer_CID (0.00s)
    --- PASS: TestDescriptorValidate/empty_second_randomizer_CID (0.00s)
=== RUN   TestDescriptorToJSON
--- PASS: TestDescriptorToJSON (0.00s)
=== RUN   TestDescriptorFromJSON
--- PASS: TestDescriptorFromJSON (0.00s)
=== RUN   TestDescriptorRoundTrip
--- PASS: TestDescriptorRoundTrip (0.00s)
=== RUN   TestDescriptorAddBlockTriple
--- PASS: TestDescriptorAddBlockTriple (0.00s)
=== RUN   TestDescriptorGetRandomizerCIDs
--- PASS: TestDescriptorGetRandomizerCIDs (0.00s)
=== RUN   TestDirectoryManifest
=== RUN   TestDirectoryManifest/NewDirectoryManifest
=== RUN   TestDirectoryManifest/AddEntry
=== RUN   TestDirectoryManifest/MarshalUnmarshal
=== RUN   TestDirectoryManifest/Validation
=== RUN   TestDirectoryManifest/EncryptDecryptManifest
--- PASS: TestDirectoryManifest (0.04s)
    --- PASS: TestDirectoryManifest/NewDirectoryManifest (0.00s)
    --- PASS: TestDirectoryManifest/AddEntry (0.00s)
    --- PASS: TestDirectoryManifest/MarshalUnmarshal (0.00s)
    --- PASS: TestDirectoryManifest/Validation (0.00s)
    --- PASS: TestDirectoryManifest/EncryptDecryptManifest (0.03s)
=== RUN   ExampleNewDirectoryDescriptor
--- PASS: ExampleNewDirectoryDescriptor (0.00s)
=== RUN   ExampleNewDirectoryManifest
--- PASS: ExampleNewDirectoryManifest (0.02s)
=== RUN   ExampleDescriptor_backwardCompatibility
--- PASS: ExampleDescriptor_backwardCompatibility (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/core/descriptors	0.497s
=== RUN   TestDirectoryCacheBasicOperations
--- PASS: TestDirectoryCacheBasicOperations (0.00s)
=== RUN   TestDirectoryCacheLRUEviction
--- PASS: TestDirectoryCacheLRUEviction (0.00s)
=== RUN   TestDirectoryCacheTTL
--- PASS: TestDirectoryCacheTTL (0.15s)
=== RUN   TestDirectoryCacheConcurrency
--- PASS: TestDirectoryCacheConcurrency (0.00s)
=== RUN   TestDirectoryCacheClear
--- PASS: TestDirectoryCacheClear (0.00s)
=== RUN   TestFuseIntegration
    fuse_integration_test.go:27: Skipping FUSE test: /dev/fuse not available
--- SKIP: TestFuseIntegration (0.00s)
=== RUN   TestFileIndexOperations
--- PASS: TestFileIndexOperations (0.00s)
=== RUN   TestMountOptions
--- PASS: TestMountOptions (0.00s)
=== RUN   TestDefaultIndexPath
--- PASS: TestDefaultIndexPath (0.00s)
=== RUN   TestFileIndexDirectorySupport
--- PASS: TestFileIndexDirectorySupport (0.00s)
=== RUN   TestFileIndexBackwardCompatibility
--- PASS: TestFileIndexBackwardCompatibility (0.00s)
=== RUN   TestFileIndexConcurrency
--- PASS: TestFileIndexConcurrency (0.00s)
=== RUN   TestFileManagerBasics
    integration_test.go:84: Skipping integration test - requires interface refactoring for proper mocking
--- SKIP: TestFileManagerBasics (0.00s)
=== RUN   TestFileManagerWithRealClient
    integration_test.go:90: Skipping real client test - requires IPFS daemon
--- SKIP: TestFileManagerWithRealClient (0.00s)
=== RUN   TestFileManagerLifecycle
    integration_test.go:115: FileManager lifecycle test - would need mock client
--- PASS: TestFileManagerLifecycle (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/fuse	1.092s
=== RUN   TestDefaultConfig
--- PASS: TestDefaultConfig (0.00s)
=== RUN   TestConfigValidation
--- PASS: TestConfigValidation (0.00s)
=== RUN   TestEnvironmentOverrides
--- PASS: TestEnvironmentOverrides (0.00s)
=== RUN   TestConfigFileOperations
--- PASS: TestConfigFileOperations (0.00s)
=== RUN   TestLoadNonexistentConfig
--- PASS: TestLoadNonexistentConfig (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/infrastructure/config	1.049s
=== RUN   TestLogLevels
--- PASS: TestLogLevels (0.00s)
=== RUN   TestJSONFormat
--- PASS: TestJSONFormat (0.00s)
=== RUN   TestWithFields
--- PASS: TestWithFields (0.00s)
=== RUN   TestComponent
--- PASS: TestComponent (0.00s)
=== RUN   TestFormatMethods
--- PASS: TestFormatMethods (0.00s)
=== RUN   TestFileOutput
--- PASS: TestFileOutput (0.00s)
=== RUN   TestConfigureFromSettings
--- PASS: TestConfigureFromSettings (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/infrastructure/logging	1.155s
?   	github.com/TheEntropyCollective/noisefs/pkg/infrastructure/security	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/infrastructure/validation	[no test files]
=== RUN   TestSimpleWorkerPoolParallelXOR
    simple_pool_test.go:162: Parallel XOR of 10 blocks completed in 151.75µs
--- PASS: TestSimpleWorkerPoolParallelXOR (0.00s)
=== RUN   TestSimpleWorkerPoolParallelStorage
    simple_pool_test.go:208: Warning: Parallel execution (56.172916ms) not significantly faster than sequential (50ms)
    simple_pool_test.go:212: Parallel storage of 10 blocks completed in 56.172916ms
--- PASS: TestSimpleWorkerPoolParallelStorage (0.06s)
=== RUN   TestSimpleWorkerPoolParallelRetrieval
    simple_pool_test.go:264: Parallel retrieval of 10 blocks completed in 34.195583ms
--- PASS: TestSimpleWorkerPoolParallelRetrieval (0.03s)
=== RUN   TestSimpleWorkerPoolParallelRandomizerGeneration
    simple_pool_test.go:299: Parallel generation of 50 randomizer blocks completed in 262.5µs
--- PASS: TestSimpleWorkerPoolParallelRandomizerGeneration (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/infrastructure/workers	1.254s
=== RUN   TestCacheEfficiencyWithRepeatedOperations
    cache_efficiency_test.go:40: === Initial Upload Phase ===
    cache_efficiency_test.go:50: After upload 1: Cache hits: 0, Cache misses: 0, Hit rate: 0.00%
    cache_efficiency_test.go:50: After upload 2: Cache hits: 0, Cache misses: 0, Hit rate: 0.00%
    cache_efficiency_test.go:50: After upload 3: Cache hits: 0, Cache misses: 0, Hit rate: 0.00%
    cache_efficiency_test.go:59: === Download Round 1 ===
    cache_efficiency_test.go:77: Round 1 results: Hits: 115, Misses: 2, Hit rate: 98.29%
    cache_efficiency_test.go:59: === Download Round 2 ===
    cache_efficiency_test.go:77: Round 2 results: Hits: 232, Misses: 2, Hit rate: 99.15%
    cache_efficiency_test.go:59: === Download Round 3 ===
    cache_efficiency_test.go:77: Round 3 results: Hits: 349, Misses: 2, Hit rate: 99.43%
    cache_efficiency_test.go:87: === Final Results ===
    cache_efficiency_test.go:88: Total cache hits: 349
    cache_efficiency_test.go:89: Total cache misses: 2
    cache_efficiency_test.go:90: Overall hit rate: 99.43%
    cache_efficiency_test.go:91: Total downloads: 9
--- PASS: TestCacheEfficiencyWithRepeatedOperations (0.00s)
=== RUN   TestCacheEfficiencyWithPopularityTracking
    cache_efficiency_test.go:139: === Upload Phase ===
    cache_efficiency_test.go:148: Uploaded popular_file_1.txt (580 bytes, 19 blocks)
    cache_efficiency_test.go:148: Uploaded popular_file_2.txt (435 bytes, 14 blocks)
    cache_efficiency_test.go:148: Uploaded unique_file_1.txt (260 bytes, 9 blocks)
    cache_efficiency_test.go:148: Uploaded unique_file_2.txt (208 bytes, 7 blocks)
    cache_efficiency_test.go:154: === Popularity Testing Phase ===
    cache_efficiency_test.go:158: --- Popular files round 1 ---
    cache_efficiency_test.go:158: --- Popular files round 2 ---
    cache_efficiency_test.go:158: --- Popular files round 3 ---
    cache_efficiency_test.go:168: === Unique Files Download ===
    cache_efficiency_test.go:179: === Popularity Tracking Results ===
    cache_efficiency_test.go:180: Upload phase - Reused: 88, Generated: 10
    cache_efficiency_test.go:181: Block reuse rate: 89.80%
    cache_efficiency_test.go:182: Cache hit rate: 98.26%
    cache_efficiency_test.go:183: Total downloads: 8
--- PASS: TestCacheEfficiencyWithPopularityTracking (0.00s)
=== RUN   TestCacheEfficiencyWithLRUEviction
    cache_efficiency_test.go:212: === Sequential Upload (triggering LRU eviction) ===
    cache_efficiency_test.go:227: After 3 uploads: Hit rate: 0.00%, Blocks reused: 24
    cache_efficiency_test.go:227: After 6 uploads: Hit rate: 0.00%, Blocks reused: 52
    cache_efficiency_test.go:227: After 9 uploads: Hit rate: 0.00%, Blocks reused: 81
    cache_efficiency_test.go:233: === LRU Access Pattern Test ===
    cache_efficiency_test.go:237: Accessing recent files (should be cache hits)...
    cache_efficiency_test.go:253: Accessing old files (should be cache misses)...
    cache_efficiency_test.go:269: === LRU Eviction Analysis ===
    cache_efficiency_test.go:270: Cache capacity: 6 blocks
    cache_efficiency_test.go:271: Files uploaded: 10
    cache_efficiency_test.go:272: Recent files access - Hits: 44, Misses: 1
    cache_efficiency_test.go:273: Old files access - Hits: 39, Misses: 6
    cache_efficiency_test.go:274: Overall cache hit rate: 92.22%
    cache_efficiency_test.go:275: Total cache misses: 7
    cache_efficiency_test.go:281: Recent files hit rate: 97.78%
    cache_efficiency_test.go:282: Old files hit rate: 86.67%
--- PASS: TestCacheEfficiencyWithLRUEviction (0.00s)
=== RUN   TestCacheEfficiencyWithWorkloadPatterns
=== RUN   TestCacheEfficiencyWithWorkloadPatterns/sequential_access
    cache_efficiency_test.go:347: Testing sequential_access: Sequential file access pattern
    cache_efficiency_test.go:370: Sequential access results: Hits: 714, Misses: 6, Hit rate: 99.17%
=== RUN   TestCacheEfficiencyWithWorkloadPatterns/random_access
    cache_efficiency_test.go:347: Testing random_access: Random file access pattern
    cache_efficiency_test.go:393: Random access results: Hits: 473, Misses: 7, Hit rate: 98.54%
=== RUN   TestCacheEfficiencyWithWorkloadPatterns/hotspot_access
    cache_efficiency_test.go:347: Testing hotspot_access: Hotspot access pattern (few files accessed frequently)
    cache_efficiency_test.go:426: Hotspot access results: Hits: 474, Misses: 6, Hit rate: 98.75%
--- PASS: TestCacheEfficiencyWithWorkloadPatterns (0.00s)
    --- PASS: TestCacheEfficiencyWithWorkloadPatterns/sequential_access (0.00s)
    --- PASS: TestCacheEfficiencyWithWorkloadPatterns/random_access (0.00s)
    --- PASS: TestCacheEfficiencyWithWorkloadPatterns/hotspot_access (0.00s)
=== RUN   TestSystemCoordinatorCreation
=== RUN   TestSystemCoordinatorCreation/Create_with_default_config
--- PASS: TestSystemCoordinatorCreation (0.30s)
    --- PASS: TestSystemCoordinatorCreation/Create_with_default_config (0.30s)
=== RUN   TestSystemMetrics
--- PASS: TestSystemMetrics (0.00s)
=== RUN   TestEndToEndUploadDownload
--- PASS: TestEndToEndUploadDownload (0.00s)
=== RUN   TestEndToEndWithDifferentFileSizes
=== RUN   TestEndToEndWithDifferentFileSizes/small_file
=== RUN   TestEndToEndWithDifferentFileSizes/exact_block_size
=== RUN   TestEndToEndWithDifferentFileSizes/multiple_blocks
=== RUN   TestEndToEndWithDifferentFileSizes/large_file
--- PASS: TestEndToEndWithDifferentFileSizes (0.00s)
    --- PASS: TestEndToEndWithDifferentFileSizes/small_file (0.00s)
    --- PASS: TestEndToEndWithDifferentFileSizes/exact_block_size (0.00s)
    --- PASS: TestEndToEndWithDifferentFileSizes/multiple_blocks (0.00s)
    --- PASS: TestEndToEndWithDifferentFileSizes/large_file (0.00s)
=== RUN   TestEndToEndDescriptorSerialization
--- PASS: TestEndToEndDescriptorSerialization (0.00s)
=== RUN   TestEndToEndBlockReuse
    e2e_test.go:414: Block reuse rate: 57.14%
--- PASS: TestEndToEndBlockReuse (0.00s)
=== RUN   TestEndToEndCacheEfficiency
    e2e_test.go:464: Cache hits after first download: 75
    e2e_test.go:465: Cache hits after second download: 150
    e2e_test.go:466: Cache misses after first download: 0
    e2e_test.go:467: Cache misses after second download: 0
--- PASS: TestEndToEndCacheEfficiency (0.00s)
=== RUN   TestEndToEndErrorRecovery
    e2e_test.go:510: Skipping missing block test - needs mock storage manager with error injection
--- SKIP: TestEndToEndErrorRecovery (0.00s)
=== RUN   TestMultiFileBlockReuse
    multifile_test.go:74: Uploaded file1.txt (320 bytes, 5 blocks)
    multifile_test.go:74: Uploaded file2.txt (240 bytes, 4 blocks)
    multifile_test.go:74: Uploaded file3.txt (160 bytes, 3 blocks)
    multifile_test.go:74: Uploaded file4.txt (192 bytes, 3 blocks)
    multifile_test.go:74: Uploaded file5.txt (400 bytes, 7 blocks)
    multifile_test.go:80: Final metrics after all uploads:
    multifile_test.go:81:   Blocks reused: 36
    multifile_test.go:82:   Blocks generated: 8
    multifile_test.go:83:   Block reuse rate: 81.82%
    multifile_test.go:84:   Total uploads: 5
    multifile_test.go:109: Download metrics:
    multifile_test.go:110:   Total downloads: 5
    multifile_test.go:111:   Cache hit rate: 100.00%
--- PASS: TestMultiFileBlockReuse (0.00s)
=== RUN   TestMultiFileStorageEfficiency
    multifile_test.go:156: Storage efficiency analysis:
    multifile_test.go:157:   Total original size: 1918 bytes
    multifile_test.go:158:   Total stored size: 2877 bytes
    multifile_test.go:159:   Storage overhead: 1.50x
    multifile_test.go:160:   Block reuse rate: 96.67%
--- PASS: TestMultiFileStorageEfficiency (0.00s)
=== RUN   TestMultiFileWithDifferentBlockSizes
    multifile_test.go:226: Uploaded small_blocks.txt: 400 bytes, 25 blocks of size 16
    multifile_test.go:226: Uploaded medium_blocks.txt: 630 bytes, 10 blocks of size 64
    multifile_test.go:226: Uploaded large_blocks.txt: 800 bytes, 4 blocks of size 256
    multifile_test.go:226: Uploaded mixed_content.txt: 600 bytes, 5 blocks of size 128
    multifile_test.go:244: Multi-block-size metrics:
    multifile_test.go:245:   Total files: 4
    multifile_test.go:246:   Blocks generated: 29
    multifile_test.go:247:   Blocks reused: 59
    multifile_test.go:248:   Cache hit rate: 100.00%
--- PASS: TestMultiFileWithDifferentBlockSizes (0.00s)
=== RUN   TestConcurrentMultiFileOperations
    multifile_test.go:311: Concurrent operations metrics:
    multifile_test.go:312:   Files processed: 5
    multifile_test.go:313:   Upload metrics - Reused: 60, Generated: 8
    multifile_test.go:314:   Final cache hit rate: 100.00%
    multifile_test.go:315:   Total downloads: 5
--- PASS: TestConcurrentMultiFileOperations (0.00s)
=== RUN   TestMultiFileWithCacheEviction
    multifile_test.go:361: After 5 uploads - Cache hits: 0, Cache misses: 0
    multifile_test.go:361: After 10 uploads - Cache hits: 0, Cache misses: 0
    multifile_test.go:361: After 15 uploads - Cache hits: 0, Cache misses: 0
    multifile_test.go:382: Cache eviction test results:
    multifile_test.go:383:   Files processed: 15
    multifile_test.go:384:   Cache size limit: 8 blocks
    multifile_test.go:385:   Upload phase - Hits: 0, Misses: 0
    multifile_test.go:386:   Download phase - Additional hits: 302, Additional misses: 13
    multifile_test.go:388:   Final cache hit rate: 95.87%
--- PASS: TestMultiFileWithCacheEviction (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/integration/coordinator	1.201s
?   	github.com/TheEntropyCollective/noisefs/pkg/ipfs	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/network/tor	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/privacy/p2p	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/privacy/relay	[no test files]
=== RUN   TestUniversalBlockPool
=== RUN   TestUniversalBlockPool/Initialization
=== RUN   TestUniversalBlockPool/Genesis_Block_Generation
=== RUN   TestUniversalBlockPool/Public_Domain_Block_Retrieval
=== RUN   TestUniversalBlockPool/Pool_Statistics
--- PASS: TestUniversalBlockPool (1.40s)
    --- PASS: TestUniversalBlockPool/Initialization (0.31s)
    --- PASS: TestUniversalBlockPool/Genesis_Block_Generation (0.37s)
    --- PASS: TestUniversalBlockPool/Public_Domain_Block_Retrieval (0.26s)
    --- PASS: TestUniversalBlockPool/Pool_Statistics (0.46s)
=== RUN   TestReuseEnforcer
=== RUN   TestReuseEnforcer/Policy_Validation
=== RUN   TestReuseEnforcer/Block_Registration
=== RUN   TestReuseEnforcer/Reuse_Proof_Generation
=== RUN   TestReuseEnforcer/Audit_Log
--- PASS: TestReuseEnforcer (1.40s)
    --- PASS: TestReuseEnforcer/Policy_Validation (0.37s)
    --- PASS: TestReuseEnforcer/Block_Registration (0.36s)
    --- PASS: TestReuseEnforcer/Reuse_Proof_Generation (0.36s)
    --- PASS: TestReuseEnforcer/Audit_Log (0.30s)
=== RUN   TestPublicDomainMixer
=== RUN   TestPublicDomainMixer/Mixing_Plan_Generation
=== RUN   TestPublicDomainMixer/Legal_Attestation
=== RUN   TestPublicDomainMixer/Mixing_Verification
--- PASS: TestPublicDomainMixer (1.09s)
    --- PASS: TestPublicDomainMixer/Mixing_Plan_Generation (0.43s)
    --- PASS: TestPublicDomainMixer/Legal_Attestation (0.38s)
    --- PASS: TestPublicDomainMixer/Mixing_Verification (0.28s)
=== RUN   TestReuseAwareClient
=== RUN   TestReuseAwareClient/Client_Creation
    reuse_test.go:399: ReuseAwareClient requires *ipfs.Client type, not compatible with mocks
=== RUN   TestReuseAwareClient/Upload_with_Reuse_Enforcement
    reuse_test.go:403: ReuseAwareClient requires *ipfs.Client type, not compatible with mocks
=== RUN   TestReuseAwareClient/Statistics_and_Documentation
    reuse_test.go:407: ReuseAwareClient requires *ipfs.Client type, not compatible with mocks
--- PASS: TestReuseAwareClient (0.00s)
    --- SKIP: TestReuseAwareClient/Client_Creation (0.00s)
    --- SKIP: TestReuseAwareClient/Upload_with_Reuse_Enforcement (0.00s)
    --- SKIP: TestReuseAwareClient/Statistics_and_Documentation (0.00s)
=== RUN   TestLegalProofSystem
=== RUN   TestLegalProofSystem/Comprehensive_Proof_Generation
=== RUN   TestLegalProofSystem/Block_Analysis
=== RUN   TestLegalProofSystem/Proof_Storage_and_Retrieval
=== RUN   TestLegalProofSystem/Defense_Strategy_Generation
--- PASS: TestLegalProofSystem (0.96s)
    --- PASS: TestLegalProofSystem/Comprehensive_Proof_Generation (0.25s)
    --- PASS: TestLegalProofSystem/Block_Analysis (0.24s)
    --- PASS: TestLegalProofSystem/Proof_Storage_and_Retrieval (0.23s)
    --- PASS: TestLegalProofSystem/Defense_Strategy_Generation (0.23s)
=== RUN   TestReuseSystemIntegration
=== RUN   TestReuseSystemIntegration/End-to-End_Reuse_Workflow
    reuse_test.go:557: ReuseAwareClient requires *ipfs.Client type, not compatible with mocks
=== RUN   TestReuseSystemIntegration/Pool_Statistics_Integration
--- PASS: TestReuseSystemIntegration (0.24s)
    --- SKIP: TestReuseSystemIntegration/End-to-End_Reuse_Workflow (0.00s)
    --- PASS: TestReuseSystemIntegration/Pool_Statistics_Integration (0.24s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/privacy/reuse	5.860s
=== RUN   TestSearchResultCache
--- PASS: TestSearchResultCache (0.15s)
=== RUN   TestCacheKeyGeneration
--- PASS: TestCacheKeyGeneration (0.00s)
=== RUN   TestCacheCleanExpired
--- PASS: TestCacheCleanExpired (0.06s)
=== RUN   TestSearchManager
=== RUN   TestSearchManager/IndexFiles
=== RUN   TestSearchManager/SearchByFilename
=== RUN   TestSearchManager/SearchByFileType
=== RUN   TestSearchManager/RemoveFromIndex
--- PASS: TestSearchManager (0.27s)
    --- PASS: TestSearchManager/IndexFiles (0.12s)
    --- PASS: TestSearchManager/SearchByFilename (0.00s)
    --- PASS: TestSearchManager/SearchByFileType (0.00s)
    --- PASS: TestSearchManager/RemoveFromIndex (0.10s)
=== RUN   TestSearchOptions
=== RUN   TestSearchOptions/DefaultOptions
=== RUN   TestSearchOptions/TimeRange
--- PASS: TestSearchOptions (0.00s)
    --- PASS: TestSearchOptions/DefaultOptions (0.00s)
    --- PASS: TestSearchOptions/TimeRange (0.00s)
=== RUN   TestContentExtractor
=== RUN   TestContentExtractor/ShouldExtractContent
=== RUN   TestContentExtractor/CreatePreview
=== RUN   TestContentExtractor/CleanText
--- PASS: TestContentExtractor (0.00s)
    --- PASS: TestContentExtractor/ShouldExtractContent (0.00s)
    --- PASS: TestContentExtractor/CreatePreview (0.00s)
    --- PASS: TestContentExtractor/CleanText (0.00s)
=== RUN   TestSearchConcurrency
    performance_test.go:299: Completed 15 operations
    performance_test.go:310: Final document count: 0
    performance_test.go:312: Expected at least 1000 documents, got 0
--- FAIL: TestSearchConcurrency (0.12s)
=== RUN   TestSearchMemoryUsage
    performance_test.go:400: Expected 1 result, got 0
--- FAIL: TestSearchMemoryUsage (0.12s)
FAIL
FAIL	github.com/TheEntropyCollective/noisefs/pkg/search	1.591s
=== RUN   TestDefaultDirectoryManagerConfig
--- PASS: TestDefaultDirectoryManagerConfig (0.00s)
=== RUN   TestNewDirectoryManager
=== RUN   TestNewDirectoryManager/nil_storage_manager
=== RUN   TestNewDirectoryManager/nil_encryption_key
=== RUN   TestNewDirectoryManager/valid_parameters
=== RUN   TestNewDirectoryManager/nil_config_uses_default
--- PASS: TestNewDirectoryManager (0.14s)
    --- PASS: TestNewDirectoryManager/nil_storage_manager (0.00s)
    --- PASS: TestNewDirectoryManager/nil_encryption_key (0.00s)
    --- PASS: TestNewDirectoryManager/valid_parameters (0.00s)
    --- PASS: TestNewDirectoryManager/nil_config_uses_default (0.00s)
=== RUN   TestDirectoryManager_StoreAndRetrieveManifest
--- PASS: TestDirectoryManager_StoreAndRetrieveManifest (0.02s)
=== RUN   TestDirectoryManager_CacheHitAndMiss
--- PASS: TestDirectoryManager_CacheHitAndMiss (0.02s)
=== RUN   TestDirectoryManager_ReconstructDirectory
--- PASS: TestDirectoryManager_ReconstructDirectory (0.02s)
=== RUN   TestDirectoryCache_LRUEviction
--- PASS: TestDirectoryCache_LRUEviction (0.00s)
=== RUN   TestDirectoryCache_TTLExpiration
--- PASS: TestDirectoryCache_TTLExpiration (0.02s)
=== RUN   TestDirectoryManager_HealthCheck
--- PASS: TestDirectoryManager_HealthCheck (0.02s)
=== RUN   TestDirectoryManager_MaxManifestSize
--- PASS: TestDirectoryManager_MaxManifestSize (0.02s)
=== RUN   TestBackendInterface
--- PASS: TestBackendInterface (0.02s)
=== RUN   TestBackendBatchOperations
--- PASS: TestBackendBatchOperations (0.07s)
=== RUN   TestStorageManager
--- PASS: TestStorageManager (0.02s)
=== RUN   TestErrorHandling
--- PASS: TestErrorHandling (0.00s)
=== RUN   TestConfigValidation
--- PASS: TestConfigValidation (0.00s)
=== RUN   TestHealthMonitoring
--- PASS: TestHealthMonitoring (0.30s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/pkg/storage	1.645s
?   	github.com/TheEntropyCollective/noisefs/pkg/storage/backends	[no test files]
=== RUN   TestAltruisticCache_EvictionCooldown
    altruistic_cache_extended_test.go:44: Second personal block should fail due to eviction cooldown
    altruistic_cache_extended_test.go:53: Personal block should succeed after cooldown: failed to make space for personal block: insufficient space freed: need 276, freed 100
--- FAIL: TestAltruisticCache_EvictionCooldown (0.60s)
=== RUN   TestAltruisticCache_ConcurrentAccess
--- PASS: TestAltruisticCache_ConcurrentAccess (0.06s)
=== RUN   TestAltruisticCache_BlockTransition
--- PASS: TestAltruisticCache_BlockTransition (0.00s)
=== RUN   TestAltruisticCache_MetricsAccuracy
--- PASS: TestAltruisticCache_MetricsAccuracy (0.00s)
=== RUN   TestAltruisticCache_ErrorHandling
--- PASS: TestAltruisticCache_ErrorHandling (0.00s)
=== RUN   TestAltruisticCache_ExtremeScenarios
--- PASS: TestAltruisticCache_ExtremeScenarios (0.00s)
=== RUN   TestAltruisticCache_BasicFunctionality
--- PASS: TestAltruisticCache_BasicFunctionality (0.00s)
=== RUN   TestAltruisticCache_SpaceManagement
--- PASS: TestAltruisticCache_SpaceManagement (0.00s)
=== RUN   TestAltruisticCache_MinPersonalGuarantee
--- PASS: TestAltruisticCache_MinPersonalGuarantee (0.00s)
=== RUN   TestAltruisticCache_DisabledAltruistic
--- PASS: TestAltruisticCache_DisabledAltruistic (0.00s)
=== RUN   TestAltruisticCache_FlexPoolUsage
--- PASS: TestAltruisticCache_FlexPoolUsage (0.00s)
=== RUN   TestBlockHealthTracker_BasicFunctionality
--- PASS: TestBlockHealthTracker_BasicFunctionality (0.00s)
=== RUN   TestBlockHealthTracker_ValueCalculation
=== RUN   TestBlockHealthTracker_ValueCalculation/Under-replicated_block
=== RUN   TestBlockHealthTracker_ValueCalculation/High_entropy_randomizer
=== RUN   TestBlockHealthTracker_ValueCalculation/Popular_block
=== RUN   TestBlockHealthTracker_ValueCalculation/Geographically_needed
--- PASS: TestBlockHealthTracker_ValueCalculation (0.00s)
    --- PASS: TestBlockHealthTracker_ValueCalculation/Under-replicated_block (0.00s)
    --- PASS: TestBlockHealthTracker_ValueCalculation/High_entropy_randomizer (0.00s)
    --- PASS: TestBlockHealthTracker_ValueCalculation/Popular_block (0.00s)
    --- PASS: TestBlockHealthTracker_ValueCalculation/Geographically_needed (0.00s)
=== RUN   TestBlockHealthTracker_GetMostValuableBlocks
--- PASS: TestBlockHealthTracker_GetMostValuableBlocks (0.00s)
=== RUN   TestBlockHealthTracker_RequestTracking
    block_health_test.go:178: Popular block should have higher request rate
--- FAIL: TestBlockHealthTracker_RequestTracking (0.00s)
=== RUN   TestBlockHealthTracker_PrivacyFeatures
    block_health_test.go:224: Differential privacy should add varying noise
--- FAIL: TestBlockHealthTracker_PrivacyFeatures (0.00s)
=== RUN   TestBlockHealthTracker_ReplicationBuckets
--- PASS: TestBlockHealthTracker_ReplicationBuckets (0.00s)
=== RUN   TestBlockHealthTracker_EntropyAnalysis
--- PASS: TestBlockHealthTracker_EntropyAnalysis (0.00s)
=== RUN   TestBlockHealthTracker_Cleanup
--- PASS: TestBlockHealthTracker_Cleanup (0.20s)
=== RUN   TestBloomExchanger_FilterCreation
    bloom_exchange_test.go:77: Personal blocks filter should contain at least one personal block
--- FAIL: TestBloomExchanger_FilterCreation (0.00s)
=== RUN   TestBloomExchanger_MessageSerialization
--- PASS: TestBloomExchanger_MessageSerialization (0.00s)
=== RUN   TestBloomExchanger_ProcessExchange
--- PASS: TestBloomExchanger_ProcessExchange (0.00s)
=== RUN   TestBloomExchanger_OldMessageRejection
--- PASS: TestBloomExchanger_OldMessageRejection (0.00s)
=== RUN   TestBloomExchanger_MaxPeerFilters
--- PASS: TestBloomExchanger_MaxPeerFilters (0.00s)
=== RUN   TestBloomExchanger_CleanupExpired
--- PASS: TestBloomExchanger_CleanupExpired (0.00s)
=== RUN   TestBloomExchanger_CoordinationThreshold
--- PASS: TestBloomExchanger_CoordinationThreshold (0.00s)
=== RUN   TestEstimateBloomOverlap
    bloom_exchange_test.go:444: Overlap should be greater than 0 for filters with common elements
--- FAIL: TestEstimateBloomOverlap (0.00s)
=== RUN   TestCoordinationEngine_BlockAffinity
--- PASS: TestCoordinationEngine_BlockAffinity (0.00s)
=== RUN   TestCoordinationEngine_HighDemandBlocks
--- PASS: TestCoordinationEngine_HighDemandBlocks (0.00s)
=== RUN   TestCoordinationEngine_BlockSuggestions
--- PASS: TestCoordinationEngine_BlockSuggestions (0.00s)
=== RUN   TestCoordinationEngine_CoordinationScore
    coordination_engine_test.go:196: Score too low for moderate overlap
--- FAIL: TestCoordinationEngine_CoordinationScore (0.00s)
=== RUN   TestCoordinationEngine_AssignmentTracking
--- PASS: TestCoordinationEngine_AssignmentTracking (0.00s)
=== RUN   TestCoordinationEngine_MultiPeerAssignments
--- PASS: TestCoordinationEngine_MultiPeerAssignments (0.00s)
=== RUN   TestCoordinationEngine_GenerateHints
    coordination_engine_test.go:356: Should generate block suggestions
    coordination_engine_test.go:361: Should calculate non-zero coordination score
--- FAIL: TestCoordinationEngine_GenerateHints (0.00s)
=== RUN   TestCoordinationEngine_EstimateFilterOverlap
    coordination_engine_test.go:378: Identical filters should have high overlap, got 0.000027
--- FAIL: TestCoordinationEngine_EstimateFilterOverlap (0.00s)
=== RUN   TestLRUEvictionStrategy
--- PASS: TestLRUEvictionStrategy (0.00s)
=== RUN   TestLFUEvictionStrategy
--- PASS: TestLFUEvictionStrategy (0.00s)
=== RUN   TestValueBasedEvictionStrategy
--- PASS: TestValueBasedEvictionStrategy (0.00s)
=== RUN   TestAdaptiveEvictionStrategy
--- PASS: TestAdaptiveEvictionStrategy (0.00s)
=== RUN   TestGradualEvictionStrategy
    eviction_strategies_test.go:181: Evicted too much: 6144 > 3993 (max)
--- FAIL: TestGradualEvictionStrategy (0.00s)
=== RUN   TestEvictionStrategyIntegration
--- PASS: TestEvictionStrategyIntegration (0.00s)
=== RUN   TestHealthGossiper_MessageCreation
--- PASS: TestHealthGossiper_MessageCreation (0.00s)
=== RUN   TestHealthGossiper_DifferentialPrivacy
    health_gossip_test.go:132: Most noisy values should be near the original value
--- FAIL: TestHealthGossiper_DifferentialPrivacy (0.00s)
=== RUN   TestHealthGossiper_MessageProcessing
--- PASS: TestHealthGossiper_MessageProcessing (0.00s)
=== RUN   TestHealthGossiper_OldMessageRejection
--- PASS: TestHealthGossiper_OldMessageRejection (0.00s)
=== RUN   TestHealthGossiper_NetworkHealthEstimate
--- PASS: TestHealthGossiper_NetworkHealthEstimate (0.00s)
=== RUN   TestHealthGossiper_RegionAnonymization
--- PASS: TestHealthGossiper_RegionAnonymization (0.00s)
=== RUN   TestHealthGossiper_StartStop
panic: runtime error: invalid memory address or nil pointer dereference
[signal SIGSEGV: segmentation violation code=0x2 addr=0x8 pc=0x102b575a0]

goroutine 123 [running]:
github.com/ipfs/go-ipfs-api.(*RequestBuilder).Send(0x140004c6ea8, {0x102e34d78, 0x103178260})
	/Users/jconnuck/go/pkg/mod/github.com/ipfs/go-ipfs-api@v0.7.0/requestbuilder.go:77 +0x30
github.com/ipfs/go-ipfs-api.(*Shell).PubSubSubscribe(0x0, {0x102be96ba, 0x15})
	/Users/jconnuck/go/pkg/mod/github.com/ipfs/go-ipfs-api@v0.7.0/shell.go:569 +0xf8
github.com/TheEntropyCollective/noisefs/pkg/storage/cache.(*HealthGossiper).receiveLoop(0x14000097ea0)
	/Users/jconnuck/noisefs/pkg/storage/cache/health_gossip.go:346 +0x68
created by github.com/TheEntropyCollective/noisefs/pkg/storage/cache.(*HealthGossiper).Start in goroutine 120
	/Users/jconnuck/noisefs/pkg/storage/cache/health_gossip.go:168 +0xfc
FAIL	github.com/TheEntropyCollective/noisefs/pkg/storage/cache	1.930s
?   	github.com/TheEntropyCollective/noisefs/pkg/storage/directory_processor	[no test files]
=== RUN   TestMockIPFSClient
=== RUN   TestMockIPFSClient/BasicOperations
=== RUN   TestMockIPFSClient/PeerAwareOperations
=== RUN   TestMockIPFSClient/ErrorSimulation
=== RUN   TestMockIPFSClient/LatencySimulation
=== RUN   TestMockIPFSClient/StorageQuota
=== RUN   TestMockIPFSClient/ConnectionManagement
=== RUN   TestMockIPFSClient/MetricsTracking
--- PASS: TestMockIPFSClient (0.23s)
    --- PASS: TestMockIPFSClient/BasicOperations (0.00s)
    --- PASS: TestMockIPFSClient/PeerAwareOperations (0.03s)
    --- PASS: TestMockIPFSClient/ErrorSimulation (0.00s)
    --- PASS: TestMockIPFSClient/LatencySimulation (0.10s)
    --- PASS: TestMockIPFSClient/StorageQuota (0.00s)
    --- PASS: TestMockIPFSClient/ConnectionManagement (0.10s)
    --- PASS: TestMockIPFSClient/MetricsTracking (0.00s)
=== RUN   TestNetworkSimulator
=== RUN   TestNetworkSimulator/PeerManagement
=== RUN   TestNetworkSimulator/ConnectionManagement
=== RUN   TestNetworkSimulator/NetworkConditions
=== RUN   TestNetworkSimulator/NetworkPartitioning
=== RUN   TestNetworkSimulator/EventHistory
--- PASS: TestNetworkSimulator (0.00s)
    --- PASS: TestNetworkSimulator/PeerManagement (0.00s)
    --- PASS: TestNetworkSimulator/ConnectionManagement (0.00s)
    --- PASS: TestNetworkSimulator/NetworkConditions (0.00s)
    --- PASS: TestNetworkSimulator/NetworkPartitioning (0.00s)
    --- PASS: TestNetworkSimulator/EventHistory (0.00s)
=== RUN   TestConditionSimulator
=== RUN   TestConditionSimulator/PredefinedConditions
=== RUN   TestConditionSimulator/ConditionApplication
=== RUN   TestConditionSimulator/ScheduledConditions
    validation_test.go:478: Expected 1 active condition, got 0
=== RUN   TestConditionSimulator/ScenarioApplication
    validation_test.go:498: Expected at least one active condition from scenario
=== RUN   TestConditionSimulator/ConditionStats
--- FAIL: TestConditionSimulator (0.20s)
    --- PASS: TestConditionSimulator/PredefinedConditions (0.00s)
    --- PASS: TestConditionSimulator/ConditionApplication (0.00s)
    --- FAIL: TestConditionSimulator/ScheduledConditions (0.15s)
    --- FAIL: TestConditionSimulator/ScenarioApplication (0.05s)
    --- PASS: TestConditionSimulator/ConditionStats (0.00s)
=== RUN   TestMockBackendAdapter
=== RUN   TestMockBackendAdapter/UnitTestAdapter
=== RUN   TestMockBackendAdapter/IntegrationTestAdapter
    validation_test.go:571: GetWithPeerHint failed: block not found
=== RUN   TestMockBackendAdapter/E2ETestAdapter
=== RUN   TestMockBackendAdapter/ComponentAccess
--- FAIL: TestMockBackendAdapter (0.01s)
    --- PASS: TestMockBackendAdapter/UnitTestAdapter (0.00s)
    --- FAIL: TestMockBackendAdapter/IntegrationTestAdapter (0.01s)
    --- PASS: TestMockBackendAdapter/E2ETestAdapter (0.00s)
    --- PASS: TestMockBackendAdapter/ComponentAccess (0.00s)
=== RUN   TestMockInfrastructureIntegration
=== RUN   TestMockInfrastructureIntegration/CompleteWorkflow
    validation_test.go:769: GetWithPeerHint failed for block 0: block not found
--- FAIL: TestMockInfrastructureIntegration (0.14s)
    --- FAIL: TestMockInfrastructureIntegration/CompleteWorkflow (0.14s)
FAIL
FAIL	github.com/TheEntropyCollective/noisefs/pkg/storage/testing	1.692s
?   	github.com/TheEntropyCollective/noisefs/pkg/tools/bootstrap	[no test files]
?   	github.com/TheEntropyCollective/noisefs/pkg/util	[no test files]
?   	github.com/TheEntropyCollective/noisefs/simulation/tools/loadgen	[no test files]
=== RUN   TestGenerateTestData
--- PASS: TestGenerateTestData (0.00s)
=== RUN   TestLatencyTracker
--- PASS: TestLatencyTracker (0.00s)
=== RUN   TestBenchmarkSuite
2025-07-16 09:27:33 [INFO] Starting file operations benchmark [duration=1s concurrency=2 file_size=1024]
2025-07-16 09:27:33 [INFO] Preparing test files [file_count=5]
2025-07-16 09:27:33 [INFO] Warming up [warmup_time=100ms]
2025-07-16 09:27:34 [INFO] File operations benchmark completed [ops_per_sec=29526.64425460241 throughput_mbps=28.834613529885164 avg_latency_ms=0 errors=0 operations=29528]
--- PASS: TestBenchmarkSuite (2.47s)
=== RUN   TestSequentialReadBenchmark
2025-07-16 09:27:36 [INFO] Starting sequential read benchmark [file_size=4096 block_size=1024]
2025-07-16 09:27:36 [INFO] Sequential read benchmark completed [operations=4 throughput_mbps=62.584113047936434 avg_latency_us=10]
--- PASS: TestSequentialReadBenchmark (0.00s)
=== RUN   TestDefaultBenchmarkConfig
--- PASS: TestDefaultBenchmarkConfig (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/tests/benchmarks	3.403s
testing: warning: no tests to run
PASS
ok  	github.com/TheEntropyCollective/noisefs/tests/benchmarks/comparative_analysis	1.071s [no tests to run]
?   	github.com/TheEntropyCollective/noisefs/tests/benchmarks/simulation	[no test files]
=== RUN   TestDMCAResponsePackageGeneration
    legal_documentation_test.go:60: Generated DMCA compliance report with 1 total events
--- PASS: TestDMCAResponsePackageGeneration (0.00s)
=== RUN   TestTechnicalDefenseKitGeneration
    legal_documentation_test.go:101: Generated technical defense report with 1 events
--- PASS: TestTechnicalDefenseKitGeneration (0.00s)
=== RUN   TestExpertWitnessReportGeneration
    legal_documentation_test.go:142: Generated expert witness report with 1 events
--- PASS: TestExpertWitnessReportGeneration (0.00s)
=== RUN   TestBlockAnalysisReport
    legal_documentation_test.go:184: Generated block analysis report with 1 events
--- PASS: TestBlockAnalysisReport (0.00s)
=== RUN   TestComplianceEvidenceGeneration
    legal_documentation_test.go:242: Generated compliance evidence package with 3 events
--- PASS: TestComplianceEvidenceGeneration (0.00s)
=== RUN   TestLegalArgumentBrief
    legal_documentation_test.go:285: Generated legal argument brief with 1 events
--- PASS: TestLegalArgumentBrief (0.00s)
=== RUN   TestCourtReadyDocumentPackage
    legal_documentation_test.go:342: Court-ready package exported to: /var/folders/yz/jt6lff353fqcjgh9xd_jxd900000gn/T/noisefs-legal-test-629990234/court-ready-package.json
--- PASS: TestCourtReadyDocumentPackage (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/tests/compliance	1.114s
=== RUN   TestDMCAStandardTakedownWorkflow
    dmca_workflow_test.go:84: Processing takedown notice: takedown_test_notice_001_1752672453
    dmca_workflow_test.go:135: Standard takedown workflow completed successfully in 325.166µs
--- PASS: TestDMCAStandardTakedownWorkflow (0.00s)
=== RUN   TestDMCACounterNoticeWorkflow
    dmca_workflow_test.go:165: Processing counter notice: counter_takedown_for_counter_1752672453_1752672453
    dmca_workflow_test.go:197: Simulating statutory wait period (shortened to 1h0m0s for testing)
    dmca_workflow_test.go:221: Counter notice workflow completed in 122.292µs
--- PASS: TestDMCACounterNoticeWorkflow (0.00s)
=== RUN   TestDMCARepeatInfringerPolicy
    dmca_workflow_test.go:287: Repeat infringer policy correctly triggered for user test_repeat_user_001
--- PASS: TestDMCARepeatInfringerPolicy (0.00s)
=== RUN   TestComplianceReportGeneration
    dmca_workflow_test.go:351: Generated compliance report with 3 total events
    dmca_workflow_test.go:357: Warning: Compliance report missing event type: takedown_request
    dmca_workflow_test.go:357: Warning: Compliance report missing event type: counter_notice
--- PASS: TestComplianceReportGeneration (0.00s)
PASS
ok  	github.com/TheEntropyCollective/noisefs/tests/compliance/dmca_simulation	1.265s
